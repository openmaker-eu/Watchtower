from decouple import configfrom datetime import datetimefrom sys import argv, pathpath.insert(0, config("ROOT_DIR"))from application.Connections import Connectiondef update_log(cron_name, cron_id, status):    with Connection.Instance().get_cursor() as cur:        ended_at = datetime.utcnow()        sql = (            "UPDATE crons_log "            "SET ended_at = %(ended_at)s, status = %(status)s "            "WHERE id = %(cron_id)s and cron_name = %(cron_name)s;"        )        params = {            'cron_id': cron_id,            'cron_name': cron_name,            'ended_at': ended_at,            'status': True if status == 0 else False        }        cur.execute(sql, params)def insert_log(cron_name, cron_frequency):    with Connection.Instance().get_cursor() as cur:        started_at = datetime.utcnow()        sql = (            "INSERT INTO crons_log "            "(cron_name, started_at, frequency) "            "VALUES (%(cron_name)s, %(started_at)s, %(frequency)s) "            "RETURNING id;"        )        params = {            'cron_name': cron_name,            'started_at': started_at,            'frequency': cron_frequency        }        cur.execute(sql, params)        cron_id = cur.fetchone()[0]        print(cron_id)def main():    if len(argv) == 4:        cron_name = argv[1]        cron_id = int(argv[2])        status = int(argv[3])        update_log(cron_name, cron_id, status)    else:        cron_name = argv[1]        cron_frequency = argv[2]        insert_log(cron_name, cron_frequency)if __name__ == "__main__":    main()